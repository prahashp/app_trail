"use strict";(self.webpackChunkretail_app_ui=self.webpackChunkretail_app_ui||[]).push([[6110],{6110:(J,c,l)=>{l.r(c),l.d(c,{ZoneAnalysisModule:()=>R});var s=l(8583),p=l(3423),e=l(7716),_=l(2134),u=l(205),g=l(8002),h=l(5304),d=l(2340),C=l(1841);const f=d.N.api.endpoint;let y=(()=>{class n{constructor(t){this.$http=t,this.tokenStorage=`${d.N.appVersion}-${d.N.USERDATA_KEY}`}handleError(t){return(0,u._)(t.error)}getHeaders(){return{Authorization:"Bearer "+JSON.parse(localStorage.getItem(this.tokenStorage)||"{}").accessToken}}getZoneData(t){return this.$http.post(`${f}/zone/analysis`,t,{headers:this.getHeaders()}).pipe((0,g.U)(a=>a),(0,h.K)(this.handleError))}getHeatMap(t){return this.$http.post(`${f}/zone/zoneHeatMap`,t,{headers:this.getHeaders()}).pipe((0,g.U)(a=>a),(0,h.K)(this.handleError))}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(C.eN))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var x=l(8590),m=l(3679);function M(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275elementStart(1,"td",39),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(3).getHeatMap(r)}),e.\u0275\u0275elementStart(2,"div",40),e.\u0275\u0275elementStart(3,"div",41),e.\u0275\u0275element(4,"img",42),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",43),e.\u0275\u0275elementStart(6,"a",44),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"td",39),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(3).getHeatMap(r)}),e.\u0275\u0275elementStart(9,"div",45),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=i.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275property("src",t.img,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.zone_name),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",t.perc,"%")}}function S(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275elementStart(1,"table",34),e.\u0275\u0275elementStart(2,"thead"),e.\u0275\u0275elementStart(3,"tr",35),e.\u0275\u0275elementStart(4,"th",36),e.\u0275\u0275text(5,"Zones"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"th",37),e.\u0275\u0275text(7,"Total"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"tbody"),e.\u0275\u0275template(9,M,11,3,"tr",38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(9),e.\u0275\u0275property("ngForOf",null==t.record?null:t.record.zoneData)}}function b(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275elementStart(1,"div",47),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(2,"svg",48),e.\u0275\u0275element(3,"circle",49),e.\u0275\u0275element(4,"circle",50),e.\u0275\u0275element(5,"circle",51),e.\u0275\u0275elementStart(6,"g"),e.\u0275\u0275element(7,"circle",52),e.\u0275\u0275element(8,"circle",53),e.\u0275\u0275element(9,"circle",54),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(10,"h5",55),e.\u0275\u0275text(11,"Please Wait..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function E(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275elementStart(1,"div",56),e.\u0275\u0275elementStart(2,"div",57),e.\u0275\u0275elementStart(3,"h3",58),e.\u0275\u0275elementStart(4,"strong"),e.\u0275\u0275text(5,"No Data Found."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"img",59),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function w(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"option",68),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=i.$implicit;e.\u0275\u0275property("value",t.zone_name),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.zone_name," ")}}function O(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",60),e.\u0275\u0275element(1,"span",61),e.\u0275\u0275elementStart(2,"div",62),e.\u0275\u0275elementStart(3,"div",63),e.\u0275\u0275text(4),e.\u0275\u0275element(5,"span",64),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"div",64),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",17),e.\u0275\u0275elementStart(8,"select",65),e.\u0275\u0275listener("ngModelChange",function(o){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).chooseName=o})("change",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(2).chooseZone()}),e.\u0275\u0275elementStart(9,"option",66),e.\u0275\u0275text(10,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,w,2,2,"option",67),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",null==t.heatmapData?null:t.heatmapData.zoneData[0].zone_name," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.chooseName),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",null==t.record?null:t.record.zoneData)}}function P(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",46),e.\u0275\u0275elementStart(1,"div",47),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(2,"svg",48),e.\u0275\u0275element(3,"circle",49),e.\u0275\u0275element(4,"circle",50),e.\u0275\u0275element(5,"circle",51),e.\u0275\u0275elementStart(6,"g"),e.\u0275\u0275element(7,"circle",52),e.\u0275\u0275element(8,"circle",53),e.\u0275\u0275element(9,"circle",54),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(10,"h5",55),e.\u0275\u0275text(11,"Please Wait..."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function z(n,i){1&n&&(e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275elementStart(1,"div",56),e.\u0275\u0275elementStart(2,"div",57),e.\u0275\u0275elementStart(3,"h3",58),e.\u0275\u0275elementStart(4,"strong"),e.\u0275\u0275text(5,"No Data Found."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"img",59),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd())}function D(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275template(1,P,12,0,"div",29),e.\u0275\u0275template(2,z,7,0,"div",30),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tableLoading.heatMap),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tableNoData.heatMap)}}function L(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275namespaceSVG(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(0,"img",89),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(3).chooseImage(r)}),e.\u0275\u0275elementEnd()}if(2&n){const t=i.$implicit;e.\u0275\u0275property("src",null==t?null:t.zone_name,e.\u0275\u0275sanitizeUrl)}}function A(n,i){if(1&n&&(e.\u0275\u0275elementStart(0,"div",25),e.\u0275\u0275elementStart(1,"div",31),e.\u0275\u0275elementStart(2,"div",69),e.\u0275\u0275element(3,"img",70),e.\u0275\u0275elementStart(4,"div",71),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275elementStart(6,"span",72),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(7,"svg",73),e.\u0275\u0275elementStart(8,"g",74),e.\u0275\u0275element(9,"polygon",75),e.\u0275\u0275element(10,"path",76),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,L,1,1,"img",77),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(12,"div"),e.\u0275\u0275elementStart(13,"span",72),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(14,"svg",73),e.\u0275\u0275elementStart(15,"g",74),e.\u0275\u0275element(16,"polygon",75),e.\u0275\u0275element(17,"path",78),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275element(18,"br"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",26),e.\u0275\u0275elementStart(20,"div",79),e.\u0275\u0275elementStart(21,"div",80),e.\u0275\u0275elementStart(22,"div",81),e.\u0275\u0275text(23,"Footfall "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",82),e.\u0275\u0275elementStart(25,"span",83),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(26,"svg",84),e.\u0275\u0275element(27,"rect",85),e.\u0275\u0275element(28,"path",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(29,"span",87),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"div",88),e.\u0275\u0275elementStart(32,"div",80),e.\u0275\u0275elementStart(33,"div",81),e.\u0275\u0275text(34,"Groups"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",82),e.\u0275\u0275elementStart(36,"span",83),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(37,"svg",84),e.\u0275\u0275element(38,"rect",85),e.\u0275\u0275element(39,"path",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(40,"span",87),e.\u0275\u0275text(41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(42,"div",88),e.\u0275\u0275elementStart(43,"div",80),e.\u0275\u0275elementStart(44,"div",81),e.\u0275\u0275text(45,"Male"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",82),e.\u0275\u0275elementStart(47,"span",83),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(48,"svg",84),e.\u0275\u0275element(49,"rect",85),e.\u0275\u0275element(50,"path",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(51,"span",87),e.\u0275\u0275text(52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(53,"div",88),e.\u0275\u0275elementStart(54,"div",80),e.\u0275\u0275elementStart(55,"div",81),e.\u0275\u0275text(56,"Female"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"div",82),e.\u0275\u0275elementStart(58,"span",83),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(59,"svg",84),e.\u0275\u0275element(60,"rect",85),e.\u0275\u0275element(61,"path",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(62,"span",87),e.\u0275\u0275text(63),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(64,"div",88),e.\u0275\u0275elementStart(65,"div",80),e.\u0275\u0275elementStart(66,"div",81),e.\u0275\u0275text(67,"Age"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(68,"div",82),e.\u0275\u0275elementStart(69,"span",83),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(70,"svg",84),e.\u0275\u0275element(71,"rect",85),e.\u0275\u0275element(72,"path",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(73,"span",87),e.\u0275\u0275text(74),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(75,"div",88),e.\u0275\u0275elementStart(76,"div",80),e.\u0275\u0275elementStart(77,"div",81),e.\u0275\u0275text(78,"Dwelltime"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"div",82),e.\u0275\u0275elementStart(80,"span",83),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(81,"svg",84),e.\u0275\u0275element(82,"rect",85),e.\u0275\u0275element(83,"path",86),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(84,"span",87),e.\u0275\u0275text(85),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("src",null==t.heatmapData?null:t.heatmapData.zoneData.crpImg,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngForOf",null==t.record?null:t.record.zoneData),e.\u0275\u0275advance(19),e.\u0275\u0275textInterpolate(null==t.heatmapData?null:t.heatmapData.zoneData[0].footfall),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(null==t.heatmapData?null:t.heatmapData.zoneData[0].group_count),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(null==t.heatmapData?null:t.heatmapData.zoneData[0].male_count),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(null==t.heatmapData?null:t.heatmapData.zoneData[0].female_count),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(null==t.heatmapData?null:t.heatmapData.zoneData[0].avg_age_range),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate1("",null==t.heatmapData?null:t.heatmapData.zoneData[0].avg_dwell_time," Mins")}}function T(n,i){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275elementStart(1,"div",11),e.\u0275\u0275elementStart(2,"h3",12),e.\u0275\u0275elementStart(3,"span",13),e.\u0275\u0275text(4,"Zone Concentration "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"span",14),e.\u0275\u0275text(6,"Based on Top performing "),e.\u0275\u0275element(7,"i",15,16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",17),e.\u0275\u0275elementStart(10,"ul",18),e.\u0275\u0275element(11,"li"),e.\u0275\u0275elementStart(12,"li",19),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().chooseType(3)}),e.\u0275\u0275elementStart(13,"a",20),e.\u0275\u0275text(14," Monthly "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"li",21),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().chooseType(2)}),e.\u0275\u0275elementStart(16,"a",22),e.\u0275\u0275text(17," Weekly "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"li",23),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().chooseType(1)}),e.\u0275\u0275elementStart(19,"a",24),e.\u0275\u0275text(20," Daily "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",4),e.\u0275\u0275elementStart(22,"div",25),e.\u0275\u0275elementStart(23,"div",26),e.\u0275\u0275elementStart(24,"div",27),e.\u0275\u0275template(25,S,10,1,"div",28),e.\u0275\u0275template(26,b,12,0,"div",29),e.\u0275\u0275template(27,E,7,0,"div",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",31),e.\u0275\u0275elementStart(29,"div",10),e.\u0275\u0275template(30,O,12,3,"div",32),e.\u0275\u0275template(31,D,3,2,"div",30),e.\u0275\u0275template(32,A,86,8,"div",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(13),e.\u0275\u0275property("ngClass",3==t.type?"show":""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",2==t.type?"show":""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",1==t.type?"show":""),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",t.record),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tableLoading.zoneList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tableNoData.zoneList),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.heatmapData&&!t.tableNoData.heatMap&&!t.tableLoading.heatMap),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.tableLoading.heatMap||t.tableNoData.heatMap),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.heatmapData&&!t.tableNoData.heatMap&&!t.tableLoading.heatMap)}}const Z=[{path:"",component:(()=>{class n{constructor(t,a){this.filterService=t,this.$api=a,this.tableNoData={zoneList:!1,heatMap:!0},this.tableLoading={zoneList:!0,heatMap:!1},this.type=3,this.hide=!1}ngOnInit(){this.chooseName="all",this.filterService.$filters.subscribe(t=>{var a=[];t.store&&t.store.forEach(r=>{a.push(r.name)}),t.date&&(this.dynamicDate={fromDate:t.date.start,toDate:t.date.end,storeId:["3-99"]})})}chooseType(t){this.type=t,this.chooseZone()}chooseZone(){let t,a;this.record.zoneData.filter("all"==this.chooseName?o=>{o.zone_name==this.chooseName&&(t=o.stream_id,a.push(o.zone_name),this.chooseName=[],this.chooseName=a)}:o=>{o.zone_name==this.chooseName&&(t=o.stream_id)}),this.chooseName&&t&&(this.getHeatMap({zone_name:this.chooseName,stream_id:t}),this.tableLoading.heatMap=!0,this.tableNoData.heatMap=!1)}chooseImage(t){this.getHeatMap({zone_name:t.zone_name,stream_id:t.stream_id}),this.tableLoading.heatMap=!0,this.tableNoData.heatMap=!1}getZoneData(t){this.$api.getZoneData(t).subscribe(a=>{a?200==a.code?(this.tableLoading.zoneList=!1,this.tableNoData.zoneList=!1,this.record=a.data.result,this.chooseName="all",this.getHeatMap({zone_name:this.record.zoneData[0].zone_name,stream_id:this.record.zoneData[0].stream_id}),this.tableLoading.heatMap=!0,this.tableNoData.heatMap=!1):(204==a.code||!a)&&(this.tableLoading.zoneList=!1,this.tableNoData.zoneList=!0):(this.tableLoading.zoneList=!1,this.tableNoData.zoneList=!0)},a=>{500==a.code?console.log("Internal Server Error"):400==a.code?console.log("Bad Request"):console.log("Error: Network Error")})}getHeatMap(t){this.$api.getHeatMap({storeId:this.dynamicDate.storeId,fromDate:this.dynamicDate.fromDate,toDate:this.dynamicDate.toDate,type:this.type,stream_id:t.stream_id,zone_name:t.zone_name}).subscribe(o=>{o?200==o.code?(this.tableLoading.heatMap=!1,this.tableNoData.heatMap=!1,this.heatmapData=o.data.result,console.log("zone heat map",this.heatmapData)):(204==o.code||!o)&&(this.tableLoading.heatMap=!1,this.tableNoData.heatMap=!0):(this.tableLoading.heatMap=!1,this.tableNoData.heatMap=!0)},o=>{500==o.code?console.log("Internal Server Error"):400==o.code?console.log("Bad Request"):console.log("Error: Network Error")})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.r),e.\u0275\u0275directiveInject(y))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-zone-analysis"]],decls:13,vars:1,consts:[["class","card",4,"ngIf"],[1,"d-flex","flex-column","flex-center","flex-column-fluid"],[1,"d-flex","flex-column","flex-center","text-center","p-10"],[1,"card","card-flush","w-lg-650px","py-5","d-flex","justify-content-center"],[1,"card-body"],[1,"mb-13"],["alt","Logo","src","../../../assets/media/logos/tangoeye-logo.png",1,"h-50px","w-200px"],[1,"fw-bolder","text-gray-900","mb-7"],[1,"fw-semibold","fs-6","text-gray-500","mb-7"],["src","https://preview.keenthemes.com/metronic8/demo1/assets/media/auth/chart-graph-dark.png","alt","",1,"mw-100","mh-200px","theme-light-show","w-200px"],[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"text-muted","fw-bold","fs-7"],["matTooltip","Summary of total footfalls,Avg time spent,Avg groups and demogrpahics on the selected section.","matTooltipPosition","right","data-bs-toggle","tooltip","title","","data-bs-original-title","Specify a subject for your issue","aria-label","Specify a subject for your issue",1,"fas","fa-info-circle","ms-2","mt-1","fs-5"],["tooltip","matTooltip"],[1,"card-toolbar"],[1,"nav"],[2,"margin-right","1em",3,"click"],[1,"btn","btn-sm","btn-color-muted","btn-active","btn-active-light-primary","fw-bolder","px-4","me-1",3,"ngClass"],[2,"margin-right","1em",3,"ngClass","click"],[1,"btn","btn-sm","btn-color-muted","btn-active","btn-active-light-primary","fw-bolder","px-4","me-1"],[3,"ngClass","click"],[1,"btn","btn-sm","btn-color-muted","btn-active","btn-active-light-primary","fw-bolder","px-4"],[1,"row"],[1,"col-lg-4"],[1,"card-body","py-3"],["class","table-responsive",4,"ngIf"],["class","row card mb-5","style","\n          padding-top: 10px;\n          display: flex;\n          justify-content: center;\n          align-items: center;",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-lg-8"],["class","d-flex align-items-center mb-6",4,"ngIf"],[1,"table-responsive"],[1,"table","table-row-dashed","table-row-gray-300","align-middle","gs-0","gy-4"],[1,"fw-bolder","text-muted"],[1,"min-w-150px"],[1,"min-w-50px"],[4,"ngFor","ngForOf"],[3,"click"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-45px","me-5"],["alt","thumbnail",3,"src"],[1,"d-flex","justify-content-start","flex-column"],[1,"text-dark","fw-bolder","text-hover-primary","fs-6"],[1,"badge","badge-light-primary","fw-bold","py-4","px-3"],[1,"row","card","mb-5",2,"padding-top","10px","display","flex","justify-content","center","align-items","center"],[1,"loader"],["viewBox","0 0 120 120","version","1.1","xmlns","http://www.w3.org/2000/svg"],["cx","60","cy","60","r","40",1,"load","one"],["cx","60","cy","60","r","40",1,"load","two"],["cx","60","cy","60","r","40",1,"load","three"],["cx","45","cy","70","r","5",1,"point","one"],["cx","60","cy","70","r","5",1,"point","two"],["cx","75","cy","70","r","5",1,"point","three"],[1,"text-gray-600","fw-bolder","text-center"],[1,"col-lg-12"],[1,"card-body","d-flex","justify-content-center","align-items-center","flex-column"],[2,"margin-top","40px"],["src","../../../../assets//Images/No_recordfound.png","alt","",2,"width","140px"],[1,"d-flex","align-items-center","mb-6"],["data-kt-element","bullet",1,"bullet","bullet-vertical","d-flex","align-items-center","min-h-70px","mh-100","me-4","bg-primary"],[1,"flex-grow-1","me-5"],[1,"text-gray-800","fw-bold","fs-2"],[1,"text-gray-400","fw-bold","fs-7"],["data-kt-select2","true","data-placeholder","Select option","name","dialCode",1,"form-select","form-select-solid","select2-hidden-accessible","ng-pristine","ng-valid","ng-touched",3,"ngModel","ngModelChange","change"],["value","all","ng-reflect-value","1",1,"ng-star-inserted"],["ng-reflect-value","1","class","ng-star-inserted",3,"value",4,"ngFor","ngForOf"],["ng-reflect-value","1",1,"ng-star-inserted",3,"value"],[1,"pt-2"],["alt","heatmap",2,"width","100%","height","290px",3,"src"],[1,"d-flex","flex-row","mt-5","imgleft"],[1,"svg-icon","svg-icon-primary","svg-icon-2x"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["points","0 0 24 0 24 24 0 24"],["d","M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z","fill","#000000","fill-rule","nonzero","transform","translate(12.000003, 11.999999) scale(-1, 1) rotate(-270.000000) translate(-12.000003, -11.999999) "],["alt","","class","img-size",3,"src","click",4,"ngFor","ngForOf"],["d","M6.70710678,15.7071068 C6.31658249,16.0976311 5.68341751,16.0976311 5.29289322,15.7071068 C4.90236893,15.3165825 4.90236893,14.6834175 5.29289322,14.2928932 L11.2928932,8.29289322 C11.6714722,7.91431428 12.2810586,7.90106866 12.6757246,8.26284586 L18.6757246,13.7628459 C19.0828436,14.1360383 19.1103465,14.7686056 18.7371541,15.1757246 C18.3639617,15.5828436 17.7313944,15.6103465 17.3242754,15.2371541 L12.0300757,10.3841378 L6.70710678,15.7071068 Z","fill","#000000","fill-rule","nonzero","transform","translate(12.000003, 11.999999) rotate(-270.000000) translate(-12.000003, -11.999999) "],[1,"pt-5"],[1,"d-flex","flex-stack"],[1,"text-gray-700","fw-bold","fs-6","me-2"],[1,"d-flex","align-items-senter"],[1,"svg-icon","svg-icon-2","svg-icon-success","me-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","16.9497","y","8.46448","width","13","height","2","rx","1","transform","rotate(135 16.9497 8.46448)","fill","currentColor"],["d","M14.8284 9.97157L14.8284 15.8891C14.8284 16.4749 15.3033 16.9497 15.8891 16.9497C16.4749 16.9497 16.9497 16.4749 16.9497 15.8891L16.9497 8.05025C16.9497 7.49797 16.502 7.05025 15.9497 7.05025L8.11091 7.05025C7.52512 7.05025 7.05025 7.52513 7.05025 8.11091C7.05025 8.6967 7.52512 9.17157 8.11091 9.17157L14.0284 9.17157C14.4703 9.17157 14.8284 9.52975 14.8284 9.97157Z","fill","currentColor"],[1,"text-gray-900","fw-boldest","fs-6"],[1,"separator","separator-dashed","my-3"],["alt","",1,"img-size",3,"src","click"]],template:function(t,a){1&t&&(e.\u0275\u0275template(0,T,33,9,"div",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275element(6,"img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"h1",7),e.\u0275\u0275text(8,"We're Coming Soon"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",8),e.\u0275\u0275text(10,"Optimize store layout and extract the maximum value for every inch of space "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div"),e.\u0275\u0275element(12,"img",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("ngIf",a.hide)},directives:[s.O5,x.gM,s.mk,s.sg,m.EJ,m.JJ,m.On,m.YN,m.Kr],styles:["p[_ngcontent-%COMP%]{font-family:Lato}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;margin:0 auto;width:460px;height:320px}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin-top:30px}img.selected[_ngcontent-%COMP%]{opacity:.8}.arrow-right[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-left:20px solid #000;position:relative;top:105px;cursor:pointer;opacity:.7}.arrow-right[_ngcontent-%COMP%]:hover{opacity:.4}.arrow-left[_ngcontent-%COMP%]{width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-right:20px solid #000;position:relative;top:105px;cursor:pointer;opacity:.7}.arrow-left[_ngcontent-%COMP%]:hover{opacity:.4}.preview[_ngcontent-%COMP%]{width:100%;height:500px;background-color:#eee;margin:0 auto}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px}.box[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#eee;border-radius:10px;margin:0 5px}li[_ngcontent-%COMP%]{list-style-type:none;cursor:pointer}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px}.wrapper[_ngcontent-%COMP%]{padding-top:0!important;margin-top:20%!important;padding-left:0!important}.container[_ngcontent-%COMP%]{height:420px!important}.grid[_ngcontent-%COMP%]{width:100%;display:inline-flex;flex-direction:row-reverse}.img-size[_ngcontent-%COMP%]{width:100px!important;height:100px!important;border-radius:0%!important}.nav-item[_ngcontent-%COMP%]{border-radius:10px}.nav-link[_ngcontent-%COMP%]:hover{border-bottom:3px solid #009EF7!important;border-radius:0!important}.nav-line-tabs.nav-line-tabs-2x[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-bottom:0!important}.example-container[_ngcontent-%COMP%]{height:500px;overflow:auto}.example-sticky-toggle-group[_ngcontent-%COMP%]{margin:8px;z-index:0!important}.mat-column-filler[_ngcontent-%COMP%]{padding:0 2px;font-size:10px;text-align:center}.mat-header-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{min-width:80px;box-sizing:border-box}.mat-header-row[_ngcontent-%COMP%], .mat-footer-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{min-width:1920px}.mat-header-cell[_ngcontent-%COMP%]{font-size:initial}.mat-header-cell[_ngcontent-%COMP%]   .cdk-header-cell[_ngcontent-%COMP%]   .cdk-column-date[_ngcontent-%COMP%]   .mat-column-date[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]   .mat-table-sticky-border-elem-top[_ngcontent-%COMP%]{z-index:0!important}.head-2[_ngcontent-%COMP%]{text-align:center}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:dashed!important;border-bottom-color:#eff2f5}#chartdivpie[_ngcontent-%COMP%]{max-height:100%;max-width:100%}div.ex3[_ngcontent-%COMP%]{background-color:#20a9e9;width:100%;height:25rem;overflow:auto}div.ex4[_ngcontent-%COMP%]{background-color:#fff;height:25rem;overflow:auto}.example-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.img-size[_ngcontent-%COMP%]{width:30px!important;height:30px!important;margin-right:5px}.bord-btn[_ngcontent-%COMP%]:hover{border-bottom:4px solid #009EF7}.nav-link[_ngcontent-%COMP%]:hover{border-bottom:2px solid transparent!important}@media (min-width: 768px) and (max-width: 1024px){.min-w-250px[_ngcontent-%COMP%]{min-width:170px!important}}.changemargin[_ngcontent-%COMP%]{margin-top:.75rem!important;margin-bottom:.75rem!important}.imgleft[_ngcontent-%COMP%]{margin-left:90px}@media (min-width: 768px) and (max-width: 1024px){.changemargin[_ngcontent-%COMP%]{margin-top:5rem!important;margin-bottom:.75rem!important}}@media (min-width: 768px) and (max-width: 1024px){.footcon[_ngcontent-%COMP%]{margin-top:10rem}#navfont[_ngcontent-%COMP%]{font-size:.9rem!important}}@media (min-width: 375px) and (max-width: 767px){.footcon[_ngcontent-%COMP%]{margin-top:11rem}#navfont[_ngcontent-%COMP%]{font-size:.9rem!important}.imgleft[_ngcontent-%COMP%]{margin-left:0}.img-size[_ngcontent-%COMP%]{width:21px!important;height:30px!important;margin-right:5px}}@media (max-width: 374px) and (min-width: 320px){.footcon[_ngcontent-%COMP%]{margin-top:13rem}#navfont[_ngcontent-%COMP%]{font-size:.9rem!important}.imgleft[_ngcontent-%COMP%]{margin-left:0}.img-size[_ngcontent-%COMP%]{width:21px!important;height:30px!important;margin-right:5px}}body[_ngcontent-%COMP%]{background-color:#eee;width:100%;height:100vh;display:flex;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]{width:90px;height:90px}svg[_ngcontent-%COMP%]{width:90%;fill:none}.load[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:570;stroke-width:20px}.load.one[_ngcontent-%COMP%]{stroke:#afe2ff;animation:load 1.5s infinite}.load.two[_ngcontent-%COMP%]{stroke:#2bb3ff;animation:load 1.5s infinite;animation-delay:.1s}.load.three[_ngcontent-%COMP%]{stroke:#009ef7;animation:load 1.5s infinite;animation-delay:.2s}.point[_ngcontent-%COMP%]{animation:bounce 1s infinite ease-in-out}.point.one[_ngcontent-%COMP%]{fill:#009ef7;animation-delay:0s}.point.two[_ngcontent-%COMP%]{fill:#2bb3ff;animation-delay:.1s}.point.three[_ngcontent-%COMP%]{fill:#afe2ff;animation-delay:.2s}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes load{0%{stroke-dashoffset:570}50%{stroke-dashoffset:530}to{stroke-dashoffset:570;transform:rotate(360deg)}}#navfont[_ngcontent-%COMP%]{font-size:1.15rem!important}@media (min-width: 768px) and (max-width: 1024px){.topbar[_ngcontent-%COMP%]{margin-top:23rem}#navfont[_ngcontent-%COMP%]{font-size:.9rem!important}}@media (min-width: 320px) and (max-width: 767px){.topbar[_ngcontent-%COMP%]{margin-top:26rem}#navfont[_ngcontent-%COMP%]{font-size:.67rem!important}}"]}),n})()}];let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(Z)],p.Bz]}),n})();var N=l(5939),k=l(9427),V=l(2115),H=l(6361),j=l(2789),F=l(4929),$=l(7441),G=l(3389),B=l(6627),U=l(1562);let R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[s.ez,I,k.vi,V.X,H.XC,N.Nh,x.AV,F.N6,j.p0,$.LD,G.HB,B.Ps,U.To,m.u5,m.UX]]}),n})()}}]);